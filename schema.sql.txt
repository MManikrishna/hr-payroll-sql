-- HR Payroll Database Schema
-- Author: Manikrishna Medisetti

-- Create database
CREATE DATABASE hr_payroll_db;
USE hr_payroll_db;

-- Departments table
CREATE TABLE departments (
  dept_id INT PRIMARY KEY,
  dept_name VARCHAR(50) NOT NULL UNIQUE
);

-- Employees table
CREATE TABLE employees (
  emp_id INT PRIMARY KEY,
  full_name VARCHAR(80) NOT NULL,
  email VARCHAR(80) UNIQUE,
  hire_date DATE NOT NULL,
  dept_id INT NOT NULL,
  job_title VARCHAR(60),
  status VARCHAR(20) DEFAULT 'ACTIVE',
  FOREIGN KEY (dept_id) REFERENCES departments(dept_id)
);

-- Salaries table
CREATE TABLE salaries (
  salary_id INT PRIMARY KEY,
  emp_id INT NOT NULL,
  base_salary DECIMAL(10,2) NOT NULL,
  bonus DECIMAL(10,2) DEFAULT 0,
  effective_from DATE NOT NULL,
  FOREIGN KEY (emp_id) REFERENCES employees(emp_id)
);
